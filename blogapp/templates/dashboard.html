{% extends "Layout.html" %}

{% block content %}
  <script type="text/javascript">
      function myFunction() {
        const filter = document.querySelector('#myInput').value.toUpperCase();
        const trs = document.querySelectorAll('#myTable tr:not(.header)');
        trs.forEach(tr => tr.style.display = [...tr.children].find(td => td.innerHTML.toUpperCase().includes(filter)) ? '' : 'none');
      }
  </script>
<div class="container pt-2">
  <input class="rounded shadow-lg m-2" type="text" id="myInput" onkeyup="myFunction()" placeholder="Search for names.." title="Type in a name">
<table id="myTable" class="table-responsive shadow-lg rounded-lg">
  <thead >
    <tr>
      <th scope="col" style="text-align:center; padding:10px">آیدی</th>
      <th scope="col" style="text-align:center; padding:20px; padding-right:40px; padding-left:40px">نام کاربری</th>
      <th scope="col" style="text-align: center;
    height:2em;">نام پدر</th>
      <th style="text-align: center;" scope="col">شماره ملی  </th>
      <th scope="col" style="text-align:center;">ایمیل</th>
      <th>گزینه‌ها</th>
    </tr>
  </thead>
  <tbody id="myTable">
    {% for user in users%}
    <tr scope="row">
      <td style="text-align:center; padding:10px">{{user.id}}</td>
      <td style="text-align:center; padding:10px">{{user.username}}</td>
      <td style="text-align: center;
    height:2em; padding:10px;">{{user.fathername}}</td>
      <td style="text-align:center; padding:10px">{{user.identitynumber}}</td>
      <td style="text-align:center; padding:10px">{{user.email}}</td>
      <td style="text-align:center; padding:10px"><a href="dashboard/users/{{user.id}}" class="btn btn-primary"><i class="fas fa-edit"></i></a></td>
    </tr>
     {% endfor%}
  </tbody>
</table>
</div>
{% endblock content %}

{% block script %}
{% endblock script %}